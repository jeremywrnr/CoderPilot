<!-- code editor layout -->

<template name='code'>
  {{#if nulldoc}}
  {{> loadprompt}}
  {{else}}
  {{> editor }}
  {{/if}}
</template>

<template name='editor'>
  <div class='col-xs-8 editor-container full-height'>
    {{#with docid}}
    {{> filename this}}
    {{> sharejsAce docid=this onRender=config onConnect=setMode id='editor'}}
    {{/with}}
  </div>
</template>

<template name='loadprompt'>
  <div class='col-xs-8 full-height'>
    <div class='panel panel-primary'>
      <div class='panel-heading'>
        <h3 class='panel-title'>code editor - let's get started!</h3>
      </div>
      <div class='panel-body'>
        click a file (or make a new one) to start editing your code...
      </div>
    </div>
  </div>
</template>

<template name='filename'>
  <div class='navbar navbar-code'>
    <div class='container-fluid'>

      {{#if rename}}
      <form class='navbar-form pull-left rename'>
        <input id='filetitle' class='form-control' type='text' name='title' value='{{title}}'>
      </form>
      {{else}}
      <strong>
        <p class='navbar-text'> ~/{{title}} </p>
      </strong>
      {{/if}}

      <form class='navbar-form pull-right'>
        <button class='edit btn btn-small'>rename</button>
        <button class='del btn btn-small'>delete</button>
      </form>

    </div>
  </div>
</template>
