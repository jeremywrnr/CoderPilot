<!--allow user to configure things-->

<template name='config'>
  <div class='col-xs-8 full-height'>
    <div class='panel panel-default'>
      <div class='panel-heading'> <h2 class='panel-title'> account </h2> </div>
      <div class='panel-body'>

        <div class='panel panel-default'>
          <div class='panel-body'>
            <h4><img class='img-rounded' style='height: 75px;' src='{{currentUser.profile.avatar_url}}'>
              {{currentUser.profile.name}}</h4>
          </div>
          <ul class='list-group'>

            <li class='list-group-item'>
              project id: {{ currentUser.profile.repo }}
            </li>

            <li class='list-group-item'>
              <button class='loadGHData grn btn btn-xs pull-right'>refresh</button>
              github:
              <a href='{{currentUser.profile.html_url}}' target='_blank'>
                {{ currentUser.profile.login }}</a>
            </li>

            <li class='list-group-item'>
              <button class='btn btn-xs grn pull-right repoSelect'> choose </button>
              repo:
              <a href='https://github.com/{{ currentUser.profile.repoOwner }}/{{ currentUser.profile.repoName }}'
                target='_blank'>{{ currentUser.profile.repoOwner }}/{{ currentUser.profile.repoName }}</a>
            </li>

            {{#if repoSelecting}}
            {{#each repos}}
            {{> repo}}
            {{/each}}
            {{/if}}

            <li class='list-group-item'>
              <button class='btn btn-xs grn pull-right branchSelect'> choose </button>
              branch:
              <a href='https://github.com/{{ currentUser.profile.repoOwner }}/{{ currentUser.profile.repoName }}/tree/{{ currentUser.profile.repoBranch }}'
                target='_blank'>{{ currentUser.profile.repoBranch }}</a>
            </li>

            {{#if branchSelecting}}
            {{#each branches}}
            {{> branch}}
            {{/each}}
            {{/if}}

            <li class='list-group-item'>
              <div class='btn-group pull-right'>
                <button class='makePilot btn-xs grn btn'>pilot</button>
                <button class='makeCopilot btn-xs grn btn'>co-pilot</button>
              </div>
              role: {{currentUser.profile.role}}
            </li>

          </ul>
        </div>

        <h5> role </h5>

        {{#if isPilot}}
        <p>This view is only seen by pilots. The pilot should focus on entering
        a flow state, knocking down issues and tasks. The testing and github
        integration panels are hidden to the pilot to aid in this regard,
        allowing them to focus on coding while the copilot performs testing and
        creates issues, writes documentation, and makes commits.</p>
        <img class='img-rounded' style='height: 150px' src='http://www.cinemablend.com/images/news_img/32554/Top_Gun_2_32554.jpg'>
        {{else}}
        <p>This view is only seen by copilots. The copilot should focus on
        testing the work that the pilot performs by using the testing panel,
        and filing any bugs found. They also are in control of the github
        integration, so they decide when it is time to make a commit.</p>
        <img class='img-rounded' style='height: 150px' src='https://s-media-cache-ak0.pinimg.com/236x/55/50/32/5550323e05e7a5f719de5263d7f160d2.jpg'>
        {{/if}}

        <h5> debugging </h5>

        <div class="alert alert-danger" role="alert">
          <button style='width:100%;' class='btn del resetfiles'>
            reset current project to basic website</button>
        </div>

        <h5> disclaimer </h5>

        I do not own the octocat or any image similar to it. I use it to link
        back to the source of this project, which is hosted on github - the
        creator and owner of the octocat. This project is maintained by <a
        href='https://github.com/jeremywrnr'>@jeremywrnr</a> - please get in
        touch with me if you have feedback on the tool, or if you find a bug
        feel free to open up an issue on github.

      </div>
    </div>
  </div>
</template>

<template name='repo'>
  <button class='list-group-item repo'> {{ repo.full_name }} </button>
</template>

<template name='branch'>
  <button class='list-group-item branch'> {{ name }} </button>
</template>
