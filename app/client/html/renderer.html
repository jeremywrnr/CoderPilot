<!-- templates for rendering iframe locally  -->

<template name="null">
  {{> yield }}
</template>

<!-- actual content -->

<template name="renderer">
  <head>

    {{{ getHead }}}

    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

    <script type="text/javascript">
$(document).ready(function(){

  // overwrite console.log for iframe
  console.log = function (msg) {
    if (typeof msg === "object")
      $("#log")[0].innerHTML += (JSON && JSON.stringify ? JSON.stringify(msg) : msg) + "<br/>";
    else
      $("#log")[0].innerHTML += msg + "\n";
  }

  console.log('test message');

  {{ getJS }}

});
    </script>

    <style type="text/css"> {{ getCSS }} </style>

  </head>
  <body>

    {{{ getBody }}}

    <div>console output:
      <pre id="log"></pre>
    </div>

  </body>
</template>

