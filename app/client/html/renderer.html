<!-- templates for rendering iframe locally  -->

<template name='null'>
  {{> yield }}
</template>

<!-- actual content -->

<template name='renderer'>
  <iframe srcdoc='
    <head>
    {{ getHead }}
    <style> {{ getCSS}} </style>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="text/javascript">
    $(document).ready(function () { // waiting until the page loads
    // overwrite console.log for iframe to append to output div
    console.log = function (msg) {
    if (typeof msg === "object")
    $("#log")[0].innerHTML +=
    (JSON && JSON.stringify ? JSON.stringify(msg) : msg) + "\n";
    else
    $("#log")[0].innerHTML += msg + "\n";
    }
    {{ getJS }} // insert the users javascript
    });
    </script>
    </head>
    <body> {{ getBody }}
      <div> console output: <pre id="log"></pre> </div>
    </body>'
                                 style='min-height:300px;height:100%;width:100%'
                                 frameborder='0' height='100%' width='100%'>
  </iframe>
</template>
