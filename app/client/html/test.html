<!--testing stuff here-->

<template name="test">
  <div class="col-xs-8 full-height">
    <h2> testing </h2>
    {{> testtasks }}
    {{> tester}}
  </div>
</template>

<template name="testtasks">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title"> tasks ({{incompleteCount}})
        <label class="label pull-right">
          hide complete
          <input type="checkbox" checked="{{hideCompleted}}" class="hide-completed"/>
        </label>
      </h3>
    </div>

    <div class="panel-body">
      <form class="new-task">
        <input type="text" class="form-control" name="text" placeholder="Add new tasks..." />
      </form>
      <ul class="list-group">
        {{#each tasks}}
        {{> todotask}}
        {{/each}}
      </ul>
    </div>
  </div>
</template>

<template name="todotask">
  <li class="list-group-item toggle-checked {{#if checked}}checked disabled{{/if}}">
    <input type="checkbox" class="toggle-checked" checked="{{checked}}"> {{text}}
    <button class="pull-right label btn del">&times;</button>
    <button class="pull-right label btn btn-info">{{username}}</button>
  </li>
</template>

<template name="tester">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title"> tester </h3>
    </div>
    <div class="panel-body">
      {{> iframe}}
    </div>
  </div>
</template>

<!--lol all the hackery...-->
<template name="iframe">
  <div style="margin:0px;padding:0px;overflow:hidden">
    <iframe srcdoc='
      <html>
        <head>
          <style type="text/css"> {{ getCSS }} </style>
          <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
          <script type="text/javascript"> $(document).ready(function() { {{ getJS }} }); </script>
        </head>
        <body>
        {{ getHTML }}
        </body>
      </html>
      ' style="overflow:hidden;height:100%;width:100%"
        frameborder="0" height="100%" width="100%" ></iframe>
  </div>
</template>
