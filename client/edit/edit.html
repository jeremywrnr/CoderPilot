<!-- code editor layout -->

<template name="code">
  {{#if nulldoc}}
  {{> loadprompt}}
  {{else}}
  {{> editor }}
  {{/if}}
</template>

<template name="editor">
  {{#if isImage }}
  {{> renderImage }}
  {{else}}
  {{> filename }}
  <div id="editor-container"></div>
  {{render}}
  {{/if}}
</template>



<template name="loadprompt">
  <div id="mainhead">
    <p class="navbar-text"> editor </p> </div>

  <!--<div class="alert alert-success alert-dismissable" role="alert">-->
    <!--first time here? <a class="alert-link" href="/config"> [click here to set up your account] </a>-->
  <!--</div>-->
  <div class="alert alert-info" role="alert">
    click a file to start editing code!
  </div>

  <ul class="nav nav-pills nav-stacked">
    {{> userfiles}}
  </ul> <!-- file.html-->
</template>

<template name="filename">
  <div id="editor-head">
    {{#if rename}}
    <form class="navbar-form pull-left rename">
      <input id="filetitle" class="form-control" type="text" name="title" value="{{title}}"> </form>
    <form class="navbar-form pull-right">
      <button class="grn btn btn-default btn-small">cancel</button> </form>
    {{else}}

    <p class="navbar-text"> ~/{{title}} </p>
    <form class="navbar-form pull-right">
      <a href="/test"><button class="grn btn btn-default btn-small test">
        <span class="glyphicon glyphicon-search"></span>
      </button></a>
      <button class="grn edit btn btn-default btn-small">
        <span class="glyphicon glyphicon-edit"></span>
      </button>
      <button class="del btn btn-default btn-small">
        <span class="glyphicon glyphicon-remove"></span>
      </button>
    </form>
    {{/if}}
  </div>
</template>

<template name="renderImage">
  Rendering image: {{ this }}
</template>
