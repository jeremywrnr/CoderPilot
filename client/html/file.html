<!--display a list of files -->

<template name="filelist">
  <div class="header">
    <p class="navbar-text"> repo </p> </div>
  <ul class="nav nav-pills nav-stacked sidelist">
    <li class="file">
      {{# if nulldoc }}
      <a href="/config"> no repo yet </a>
      {{else}}
      <a href="https://github.com/{{ currentUser.profile.repoOwner }}/{{ currentUser.profile.repoName }}" target="_blank">
        {{ currentUser.profile.repoOwner }}/{{ currentUser.profile.repoName }}</a>
      {{/if}}
    </li>
  </ul>

  <div class="sidepanel">
    <div class="header">
      <p class="navbar-text"> files </p>
      <form class="navbar-form pull-right">
        <button class="grn btn btn-default btn-small new"> new </button> </form> </div>
    <ul class="nav nav-pills nav-stacked sidelist">
      {{> userfiles}} </ul> </div>
</template>

<template name="userfiles">
  {{#if files.count}}
  {{#each files}}
  {{> fileitem}}
  {{/each}}
  {{else}}
  <li class="file new"> <a href="#"> no files yet </a> </li>
  {{/if}}
</template>

<!-- todo, also show the collaborators file location pointers -->

<template name="fileitem">
  <li class="file {{#if current}}active{{/if}}">
    <a id="{{#if current}}active-file{{/if}}" href="/code">
      {{#if current}}
      <span class="glyphicon glyphicon-asterisk"></span>
      {{/if}}
      {{title}} </a> </li>
</template>

