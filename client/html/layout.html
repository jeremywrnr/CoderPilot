<head>
  <title>Git Sync - Collaborative Web IDE</title>
  <link rel="icon" sizes="16x16 32x32" href="/favicon.ico?v=2">
  <script>
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");
ga("create", "UA-58096309-2", "auto");
ga("send", "pageview");
  </script>

  <!-- Firepad -->
  <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.2/ace.js"></script>
  <script src="https://cdn.firebase.com/libs/firepad/1.3.0/firepad.min.js"></script>
  <!--<link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.3.0/firepad.css" />-->

  <!-- library to make ACE editor spiffy -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ext-modelist.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ext-beautify.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ext-language_tools.js"></script>
</head>

<body>
</body>


<!--top navbar-->

<template name="main">
  {{> topnav }}
  {{#if currentUser }}

  <div class="mainbody full-height">
    {{> sidebar}} <div class="main-content"> {{> yield}} </div>
  </div>

  {{else}}
  {{> login}}
  {{/if}}
</template>

<template name="sidebar">
  <div class="sidebar full-height">
    {{> filelist }}
    {{> chat }}
  </div>
</template>

<!-- if not main, dump contents to null -->

<template name="null">
  {{> yield }}
</template>

<template name="topnav">
  <nav id="nav" class="navbar navbar-inverse navbar-fixed-top">
    <div class="containter-fluid">
      {{> navigation }}
      {{> loginGithub }}
    </div>
  </nav>
</template>



<!--login templates-->

<template name="loginGithub">
  <ul class="nav navbar-nav navbar-right nomargin">
    {{#if loggingIn }}
    <li><a href="#">logging in...</a></li>
    {{else}}{{#if currentUser }}
    {{> userLoggedin }}
    {{else}}
    {{> userLoggedout }}
    {{/if}}{{/if}}
  </ul>
</template>

<template name="userLoggedin">
  <li class="navitem text-center">
    <a href="/config"> {{ currentUser.profile.login }} | {{ currentUser.profile.role }} </a>
  </li>
  <li class="del logout text-center">
    <a href="#"> logout </a>
  </li>
</template>

<template name="userLoggedout">
  <li class="grn login text-center">
    <a href="#"> login with <img style="height: 20px;" alt="GitHub" src="img/github.gif"> </a>
  </li>
</template>



<!-- navigation icons from http://glyphicons.com/ -->

<template name="navigation">
  {{#if currentUser }}
  <ul class="nav navbar-nav">

    {{#each navItems}}
    <li class="navitem text-center grn">
      <a href="{{ iconpath }}">
        <span class="glyphicon glyphicon-{{ iconname }}"></span> {{ name }} </a>
    </li>
    {{/each}}

  </ul>
  {{else}}

  <a class="navbar-brand" href="#"> Git Sync </a>

  {{/if}}
</template>

