<!-- testing -->

<template name="test">
  {{> testviz}}
  {{> testweb}}
  {{> issues}}
</template>

<template name="testviz">
  <div id="mainhead">
    <p class="navbar-text"> visualize </p>
    <form class="navbar-form pull-right">
      <a href="/"><button class="grn btn btn-default btn-small">code</button></a>
      <a href="/git"><button class="grn btn btn-default btn-small">save</button></a>
      <button class="edit btn btn-default btn-small">target</button>
      <button class="del btn btn-default btn-small">reload</button>
    </form>
  </div>

  <iframe width="800" height="500" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=require+'set'%0A%0Amy_array+%3D+%5B1,+2,+3,+'hello',+false,+true,+nil%5D%0Amy_hash+%3D+%7B'John'+%3D%3E+26,+'Jane'+%3D%3E+21,+'Jack'+%3D%3E+30%7D%0Amy_set+%3D+my_array.to_set%0A%0Amy_hash%5B'nested+array'%5D+%3D+my_array%0Amy_array%5B1%5D+%3D+%5B'a',+'b',+'c'%5D&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=ruby&rawInputLstJSON=%5B%5D&curInstr=0&codeDivWidth=350&codeDivHeight=400">
    <!--src="http://pythontutor.com/iframe-embed.html#code=(escaped snippet)&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=(language)&rawInputLstJSON=%5B%5D&curInstr=0&codeDivWidth=350&codeDivHeight=400">-->
  </iframe>
</template>

<template name="testweb">
  <div id="mainhead">
    <p class="navbar-text"> renderer </p>
    <form class="navbar-form pull-right">
      <button class="grn btn btn-default btn-small">reload</button>
    </form>
  </div>

  <iframe src="/raw" style="min-height:400px;height:100%;width:100%"
                     frameborder="0" height="100%" width="100%">
  </iframe>
</template>


<!-- github issue integration -->

<template name="issues">
  <div class="panel">
    <div class="panel-heading">
      <h3 class="panel-title"> issues ({{issueCount}})
        <button class="btn btn-xs grn btn-default pull-right reload">reload</button>
      </h3>
    </div>
    <div class="panel-body">
      <ul class="list-group nomargin">
        {{#if issueCount}}
        {{#each issues }}
        {{> issue }}
        {{/each}}
        {{else}}
        <button class="list-group-item issue"> no issues yet. </button>
        {{/if}}
      </ul>
    </div>
  </div>
</template>

<template name="issue">

  <button class="list-group-item issue" id="{{#if current }}active-issue{{/if}}">
    {{ issue.title }}
    {{#each labels }}
    {{> issueLabel }}
    {{/each}}
  </button>

  {{#if current}}
  <button class="list-group-item" href="#">
    <div class="btn-group btn-group-justified nomargin">
      <a role="button" class="btn btn-default grn" href="render/{{ _id }}">
        view live </a>
      <a role="button" target="_blank" class="btn btn-default edit" href="{{ issue.html_url }}">
        view github issue </a>
      <a role="button" class="btn btn-default del closeissue" href="#">
        close issue </a>
    </div>
    <a target="_blank" href="/screenshot/{{ feedback.imglink }}">
      <img style="width: 100%;" src="{{ screen }}" />
    </a>
  </button>
  {{/if}}

</template>

<template name="issueLabel">
  <span class="pull-right label label-default" style="background: #{{color}};"> {{ name }} </span>
</template>

